<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Náutica & Pesca - Tienda de Barcos y Artículos de Pesca</title>
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/style/bootstrap.min.css">
    
    <!-- Font Awesome para iconos -->
    <link rel="stylesheet" href="assets/style/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/style/custom.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-anchor me-2"></i>Náutica & Pesca
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#productos">Productos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#about">Nosotros</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contacto</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link cart-btn" href="#" data-bs-toggle="modal" data-bs-target="#cartModal">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="badge bg-danger cart-badge" id="cart-count">0</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Cart Modal -->
    <div class="modal fade cart-modal" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel">
                        <i class="fas fa-shopping-cart me-2"></i>Mi Carrito
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="cart-body">
                    <!-- Cart items will be inserted here -->
                </div>
                <div class="modal-footer flex-column align-items-stretch">
                    <div class="cart-total" id="cart-total">
                        <!-- Totals will be calculated here -->
                    </div>
                    <button type="button" class="btn btn-checkout" id="checkout-btn" disabled>
                        <i class="fas fa-credit-card me-2"></i>Proceder al Pago
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container text-center">
            <h1><i class="fas fa-ship me-3"></i>Descubre tu Próxima Aventura</h1>
            <p class="lead">Barcos, lanchas, botes y todo lo que necesitas para la pesca</p>
        </div>
    </section>

    <!-- Filter Section -->
    <div class="container">
        <div class="filter-section text-center">
            <button class="btn btn-outline-primary filter-btn active" data-filter="all">
                <i class="fas fa-th me-2"></i>Todos
            </button>
            <button class="btn btn-outline-primary filter-btn" data-filter="barcos">
                <i class="fas fa-ship me-2"></i>Barcos
            </button>
            <button class="btn btn-outline-primary filter-btn" data-filter="lanchas">
                <i class="fas fa-water me-2"></i>Lanchas
            </button>
            <button class="btn btn-outline-primary filter-btn" data-filter="pesca">
                <i class="fas fa-fish me-2"></i>Artículos de Pesca
            </button>
        </div>
    </div>

    <!-- Products Section -->
    <section id="productos" class="container">
        <div class="row g-4">
            <!-- Producto 1: Catamarán -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="barcos">
                <div class="card product-card">
                    <span class="product-badge">Destacado</span>
                    <img src="assets/imgs/catamaran.webp" class="card-img-top" alt="Catamarán de Lujo">
                    <div class="card-body">
                        <h5 class="card-title">Catamarán de Lujo</h5>
                        <p class="card-text">Catamarán espacioso ideal para navegación y turismo.</p>
                        <div class="price">$125,000</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 2: Lancha Deportiva 1 -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="lanchas">
                <div class="card product-card">
                    <img src="assets/imgs/lancha1.webp" class="card-img-top" alt="Lancha Deportiva">
                    <div class="card-body">
                        <h5 class="card-title">Lancha Deportiva Pro</h5>
                        <p class="card-text">Lancha de alta velocidad para deportes acuáticos.</p>
                        <div class="price">$45,000</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 3: Lancha Deportiva 2 -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="lanchas">
                <div class="card product-card">
                    <img src="assets/imgs/lancha2.webp" class="card-img-top" alt="Lancha Familiar">
                    <div class="card-body">
                        <h5 class="card-title">Lancha Familiar</h5>
                        <p class="card-text">Perfecta para paseos familiares en el mar.</p>
                        <div class="price">$38,500</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 4: Moto Acuática -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="lanchas">
                <div class="card product-card">
                    <span class="product-badge">Oferta</span>
                    <img src="assets/imgs/moto.webp" class="card-img-top" alt="Moto Acuática">
                    <div class="card-body">
                        <h5 class="card-title">Moto Acuática</h5>
                        <p class="card-text">Moto acuática de alta potencia y rendimiento.</p>
                        <div class="price">$12,900</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 5: Motor Fuera de Borda -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="pesca">
                <div class="card product-card">
                    <img src="assets/imgs/motor.webp" class="card-img-top" alt="Motor Fuera de Borda">
                    <div class="card-body">
                        <h5 class="card-title">Motor Fuera de Borda</h5>
                        <p class="card-text">Motor potente de 150 HP para embarcaciones.</p>
                        <div class="price">$8,500</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 6: Bote de Pedales -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="barcos">
                <div class="card product-card">
                    <img src="assets/imgs/pedales.webp" class="card-img-top" alt="Bote de Pedales">
                    <div class="card-body">
                        <h5 class="card-title">Bote de Pedales</h5>
                        <p class="card-text">Bote recreativo ideal para lagos y ríos.</p>
                        <div class="price">$2,800</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 7: Caña Penn -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="pesca">
                <div class="card product-card">
                    <span class="product-badge">Nuevo</span>
                    <img src="assets/imgs/penn.webp" class="card-img-top" alt="Caña de Pescar Penn">
                    <div class="card-body">
                        <h5 class="card-title">Caña Penn Professional</h5>
                        <p class="card-text">Caña de alta calidad para pesca deportiva.</p>
                        <div class="price">$450</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 8: Barco Pesquero -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="barcos">
                <div class="card product-card">
                    <img src="assets/imgs/pesquero.webp" class="card-img-top" alt="Barco Pesquero">
                    <div class="card-body">
                        <h5 class="card-title">Barco Pesquero</h5>
                        <p class="card-text">Embarcación especializada para pesca comercial.</p>
                        <div class="price">$85,000</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 9: Set de Pesca -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="pesca">
                <div class="card product-card">
                    <img src="assets/imgs/fishing.webp" class="card-img-top" alt="Set de Pesca Completo">
                    <div class="card-body">
                        <h5 class="card-title">Set de Pesca Completo</h5>
                        <p class="card-text">Kit completo con todo lo necesario para pescar.</p>
                        <div class="price">$299</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 10: Lancha Roar -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="lanchas">
                <div class="card product-card">
                    <span class="product-badge">Popular</span>
                    <img src="assets/imgs/roar.webp" class="card-img-top" alt="Lancha Roar">
                    <div class="card-body">
                        <h5 class="card-title">Lancha Roar Turbo</h5>
                        <p class="card-text">Lancha de alto rendimiento con motor turbo.</p>
                        <div class="price">$52,000</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 11: Caña de Pescar -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="pesca">
                <div class="card product-card">
                    <img src="assets/imgs/rod.webp" class="card-img-top" alt="Caña de Pescar">
                    <div class="card-body">
                        <h5 class="card-title">Caña Telescópica Pro</h5>
                        <p class="card-text">Caña telescópica portátil y resistente.</p>
                        <div class="price">$180</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>

            <!-- Producto 12: Carrete Senator -->
            <div class="col-12 col-sm-6 col-md-4 col-lg-3" data-category="pesca">
                <div class="card product-card">
                    <img src="assets/imgs/senator.webp" class="card-img-top" alt="Carrete Senator">
                    <div class="card-body">
                        <h5 class="card-title">Carrete Senator</h5>
                        <p class="card-text">Carrete de alta resistencia para pesca mayor.</p>
                        <div class="price">$380</div>
                        <button class="btn btn-add-cart w-100">
                            <i class="fas fa-cart-plus me-2"></i>Añadir al Carrito
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5><i class="fas fa-anchor me-2"></i>Náutica & Pesca</h5>
                    <p>Tu tienda especializada en embarcaciones y artículos de pesca de alta calidad.</p>
                </div>
                <div class="col-md-4 mb-4">
                    <h5>Enlaces Rápidos</h5>
                    <ul class="list-unstyled">
                        <li><a href="#productos"><i class="fas fa-angle-right me-2"></i>Productos</a></li>
                        <li><a href="#about"><i class="fas fa-angle-right me-2"></i>Sobre Nosotros</a></li>
                        <li><a href="#contact"><i class="fas fa-angle-right me-2"></i>Contacto</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h5>Contacto</h5>
                    <p><i class="fas fa-phone me-2"></i>+34 123 456 789</p>
                    <p><i class="fas fa-envelope me-2"></i>info@nauticapesca.com</p>
                    <div class="mt-3">
                        <a href="#" class="me-3"><i class="fab fa-facebook fa-2x"></i></a>
                        <a href="#" class="me-3"><i class="fab fa-instagram fa-2x"></i></a>
                        <a href="#"><i class="fab fa-twitter fa-2x"></i></a>
                    </div>
                </div>
            </div>
            <hr style="border-color: rgba(255,255,255,0.2);">
            <div class="text-center">
                <p class="mb-0">&copy; 2025 Náutica & Pesca. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap Bundle JS -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    
    <!-- Custom JS -->
    <script>
        // Cart Management System
        class ShoppingCart {
            constructor() {
                this.items = this.loadCart();
                this.updateCartDisplay();
            }
            
            // Load cart from localStorage
            loadCart() {
                const savedCart = localStorage.getItem('nautica_cart');
                return savedCart ? JSON.parse(savedCart) : [];
            }
            
            // Save cart to localStorage
            saveCart() {
                localStorage.setItem('nautica_cart', JSON.stringify(this.items));
            }
            
            // Add item to cart
            addItem(product) {
                const existingItem = this.items.find(item => item.id === product.id);
                
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    this.items.push({
                        ...product,
                        quantity: 1
                    });
                }
                
                this.saveCart();
                this.updateCartDisplay();
                return true;
            }
            
            // Remove item from cart
            removeItem(productId) {
                this.items = this.items.filter(item => item.id !== productId);
                this.saveCart();
                this.updateCartDisplay();
            }
            
            // Update item quantity
            updateQuantity(productId, change) {
                const item = this.items.find(item => item.id === productId);
                if (item) {
                    item.quantity += change;
                    if (item.quantity <= 0) {
                        this.removeItem(productId);
                    } else {
                        this.saveCart();
                        this.updateCartDisplay();
                    }
                }
            }
            
            // Get cart total
            getTotal() {
                return this.items.reduce((total, item) => {
                    return total + (item.price * item.quantity);
                }, 0);
            }
            
            // Get total items count
            getTotalItems() {
                return this.items.reduce((total, item) => total + item.quantity, 0);
            }
            
            // Clear cart
            clearCart() {
                this.items = [];
                this.saveCart();
                this.updateCartDisplay();
            }
            
            // Update cart display
            updateCartDisplay() {
                this.updateCartCounter();
                this.updateCartModal();
            }
            
            // Update cart counter badge
            updateCartCounter() {
                const counter = document.getElementById('cart-count');
                const totalItems = this.getTotalItems();
                counter.textContent = totalItems;
                
                if (totalItems > 0) {
                    counter.style.display = 'inline-block';
                } else {
                    counter.style.display = 'inline-block'; // Always show
                }
            }
            
            // Update cart modal content
            updateCartModal() {
                const cartBody = document.getElementById('cart-body');
                const cartTotal = document.getElementById('cart-total');
                const checkoutBtn = document.getElementById('checkout-btn');
                
                if (this.items.length === 0) {
                    cartBody.innerHTML = `
                        <div class="empty-cart">
                            <i class="fas fa-shopping-cart"></i>
                            <h4>Tu carrito está vacío</h4>
                            <p>Añade productos para comenzar a comprar</p>
                        </div>
                    `;
                    cartTotal.innerHTML = '';
                    checkoutBtn.disabled = true;
                } else {
                    // Render cart items
                    cartBody.innerHTML = this.items.map(item => `
                        <div class="cart-item">
                            <div class="row align-items-center">
                                <div class="col-3 col-md-2">
                                    <img src="${item.image}" class="cart-item-img" alt="${item.title}">
                                </div>
                                <div class="col-9 col-md-4">
                                    <div class="cart-item-title">${item.title}</div>
                                    <div class="cart-item-price">$${item.price.toLocaleString()}</div>
                                </div>
                                <div class="col-7 col-md-4">
                                    <div class="quantity-controls">
                                        <button class="quantity-btn" onclick="cart.updateQuantity('${item.id}', -1)">
                                            <i class="fas fa-minus"></i>
                                        </button>
                                        <span class="quantity-display">${item.quantity}</span>
                                        <button class="quantity-btn" onclick="cart.updateQuantity('${item.id}', 1)">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="col-5 col-md-2 text-end">
                                    <div class="mb-2"><strong>$${(item.price * item.quantity).toLocaleString()}</strong></div>
                                    <i class="fas fa-trash remove-item-btn" onclick="cart.removeItem('${item.id}')" title="Eliminar"></i>
                                </div>
                            </div>
                        </div>
                    `).join('');
                    
                    // Calculate totals
                    const subtotal = this.getTotal();
                    const shipping = subtotal > 50000 ? 0 : 500; // Free shipping over $50,000
                    const tax = subtotal * 0.21; // 21% IVA
                    const total = subtotal + shipping + tax;
                    
                    cartTotal.innerHTML = `
                        <div class="cart-total-row">
                            <span>Subtotal:</span>
                            <span>$${subtotal.toLocaleString('es-ES', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
                        </div>
                        <div class="cart-total-row">
                            <span>Envío:</span>
                            <span>${shipping === 0 ? '<span class="text-success">GRATIS</span>' : '$' + shipping.toLocaleString('es-ES', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
                        </div>
                        <div class="cart-total-row">
                            <span>IVA (21%):</span>
                            <span>$${tax.toLocaleString('es-ES', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
                        </div>
                        <div class="cart-total-row final">
                            <span>Total:</span>
                            <span>$${total.toLocaleString('es-ES', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</span>
                        </div>
                    `;
                    
                    checkoutBtn.disabled = false;
                }
            }
        }
        
        // Initialize cart
        const cart = new ShoppingCart();
        
        // Filter functionality
        document.querySelectorAll('.filter-btn').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                const filter = this.getAttribute('data-filter');
                const products = document.querySelectorAll('[data-category]');
                
                products.forEach(product => {
                    if (filter === 'all' || product.getAttribute('data-category') === filter) {
                        product.style.display = 'block';
                        product.style.opacity = '0';
                        setTimeout(() => {
                            product.style.transition = 'opacity 0.5s';
                            product.style.opacity = '1';
                        }, 10);
                    } else {
                        product.style.display = 'none';
                    }
                });
            });
        });
        
        // Add to cart functionality
        document.querySelectorAll('.btn-add-cart').forEach(button => {
            button.addEventListener('click', function() {
                const card = this.closest('.card');
                const productId = card.getAttribute('data-product-id');
                const title = card.querySelector('.card-title').textContent;
                const priceText = card.querySelector('.price').textContent.replace('$', '').replace(',', '');
                const price = parseFloat(priceText);
                const image = card.querySelector('.card-img-top').src;
                
                const product = {
                    id: productId,
                    title: title,
                    price: price,
                    image: image
                };
                
                cart.addItem(product);
                
                // Visual feedback
                this.innerHTML = '<i class="fas fa-check me-2"></i>Añadido';
                this.style.background = '#28a745';
                
                setTimeout(() => {
                    this.innerHTML = '<i class="fas fa-cart-plus me-2"></i>Añadir al Carrito';
                    this.style.background = '';
                }, 2000);
            });
        });
        
        // Checkout button functionality
        document.getElementById('checkout-btn').addEventListener('click', function() {
            if (cart.getTotalItems() > 0) {
                alert(`¡Gracias por tu compra!\n\nTotal: $${(cart.getTotal() * 1.21 + (cart.getTotal() > 50000 ? 0 : 500)).toLocaleString('es-ES', {minimumFractionDigits: 2, maximumFractionDigits: 2})}\n\nEn una aplicación real, aquí se procesaría el pago.`);
                
                // Uncomment to clear cart after checkout
                // cart.clearCart();
                // const modal = bootstrap.Modal.getInstance(document.getElementById('cartModal'));
                // modal.hide();
            }
        });
        
        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href !== '#' && !this.hasAttribute('data-bs-toggle')) {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            });
        });
        
        // Add product IDs to cards for cart functionality
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.product-card');
            cards.forEach((card, index) => {
                card.setAttribute('data-product-id', `prod-${index + 1}`);
            });
        });
    </script>
</body>
</html>
