<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo - Sistema de Pagos</title>
    <link rel="stylesheet" href="app/assets/css/styles.css">
    <link rel="stylesheet" href="app/components/modals/payment-modal.component.css">
</head>
<body>
    <div style="max-width: 800px; margin: 50px auto; padding: 20px;">
        <h1>ğŸ§ª Demo - Sistema de Pagos</h1>
        
        <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
            <h2>InformaciÃ³n del Pedido</h2>
            <ul>
                <li>3x Queso Majorero - 15.90â‚¬</li>
                <li>2x PlÃ¡tano de Canarias - 3.50â‚¬</li>
                <li>1x Miel de Palma - 25.00â‚¬</li>
            </ul>
            <p><strong>Subtotal: 72.20â‚¬</strong></p>
        </div>

        <button onclick="showPaymentModal()" class="btn btn-primary" style="font-size: 1.2em; padding: 15px 30px;">
            ğŸ’³ Proceder al Pago
        </button>

        <div style="margin-top: 40px; background: #e3f2fd; padding: 20px; border-radius: 10px;">
            <h3>ğŸ“‹ MÃ©todos de Pago Disponibles:</h3>
            <ul>
                <li><strong>ğŸ’³ Tarjeta de CrÃ©dito/DÃ©bito</strong> - Visa, Mastercard, American Express (ComisiÃ³n: 1.4% + 0.25â‚¬)</li>
                <li><strong>ğŸ“± Bizum</strong> - Pago instantÃ¡neo espaÃ±ol (Sin comisiÃ³n)</li>
                <li><strong>ğŸ¦ Transferencia Bancaria</strong> - SEPA (Sin comisiÃ³n, proceso en 24-48h)</li>
                <li><strong>ğŸ…¿ï¸ PayPal</strong> - Pago con cuenta PayPal (ComisiÃ³n: 3.4% + 0.35â‚¬)</li>
                <li><strong>ğŸ’µ Contrarreembolso</strong> - Pago en efectivo al recibir (Gastos: 3.00â‚¬)</li>
            </ul>
        </div>

        <div style="margin-top: 20px; background: #fff3cd; padding: 20px; border-radius: 10px;">
            <h3>âš ï¸ Nota de Desarrollo:</h3>
            <p>Esta es una demo del sistema de pagos. Para usar en producciÃ³n necesitas:</p>
            <ol>
                <li>Cuenta de Stripe y clave API (para tarjetas)</li>
                <li>IntegraciÃ³n con tu banco para Bizum y transferencias</li>
                <li>Cuenta de PayPal Business y credenciales API</li>
                <li>Backend PHP para procesar los pagos de forma segura</li>
            </ol>
        </div>
    </div>

    <!-- Scripts necesarios -->
    <script src="app/services/payment.service.js"></script>
    <script src="app/components/modals/payment-modal.component.js"></script>

    <script>
        function showPaymentModal() {
            const orderData = {
                orderId: 'PEDIDO-' + Date.now(),
                items: [
                    { name: 'Queso Majorero', quantity: 3, price: 15.90 },
                    { name: 'PlÃ¡tano de Canarias', quantity: 2, price: 3.50 },
                    { name: 'Miel de Palma', quantity: 1, price: 25.00 }
                ],
                subtotal: 72.20,
                customerInfo: {
                    name: 'Usuario Demo',
                    email: 'demo@example.com',
                    phone: '+34 123 456 789'
                }
            };

            const modal = new PaymentModal(orderData);
            modal.show();
        }

        // Escuchar evento de pago completado
        window.addEventListener('paymentCompleted', (event) => {
            console.log('âœ… Pago completado:', event.detail);
            alert('âœ… Â¡Pago procesado correctamente!\n\nMÃ©todo: ' + event.detail.method);
        });
    </script>
</body>
</html>
